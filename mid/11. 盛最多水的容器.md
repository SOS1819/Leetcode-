### 解题思路

给定 n 个非负整数 a~1~，a~2~，...，a~n~，每个数代表坐标中的一个点 (i, a~i~) 。在坐标内画 n 条垂直线，垂直线 i 的两个端点分别为 (i, a~i~) 和 (i, 0)。找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。

**说明：**你不能倾斜容器，且 *n* 的值至少为 2。

![img](https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg)

> 图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。

**示例:**

```
输入: [1,8,6,2,5,4,8,3,7]
输出: 49
```



### 解题思路

#### 1. 暴力法

考虑每一个点与其后面的点之间的线所形成的面积，找最大值即可。

**复杂度：O(n)**



#### 2. 双指针法

设置`left`和`right`两个指针，分别指向当前考虑的两个端点所在的横坐标, `ans`代表当前形成的最大面积。

当`left < right`时，我们计算两个指针所代表垂直线形成的面积`tmp`，则有`ans = max(ans, tmp)`，并始终让两个指针中所代表的垂直线长度短的一方向长的一端移动。例如，在上面的实例中，初始时，`left = 0`、`right = 8`，此时`ans = 8 `、`height[left] < height[right]`，那么我们就让`left`向`right`移动，即`left++`，此时再重复上述步骤，得到`ans = 49`，并且让`right--`，最后当`left >= right`时停止。

**证明：为什么要短的一方向长的一方移动？这样为什么正确？**

由于面积由`left`和`right`之间的**距离**和其两者中所代表垂直线的**长度较小值**的**乘积**决定，并且初始时`left = 0`，`right = length - 1`，即指向数组的首尾，那么无论哪一方向另一方移动，其之间的**距离一定会减小**；若长的一方向短的一方移动，那么其面积不会增大(*因为两者长的较小值至少会小于等于原有的较小值*)，再加上距离必定变小，此时面积一定会变小。所以，短的一方向长的一方移动才**可能找到更大的**，因为它可能找到更长的垂直线，使得原有的较长线称为较小的，使得在距离减少的情况下通过增大垂直边长度来找到更大面积。

那这样为什么正确呢？其实上面的操作，帮我们**排除了一定不会找到更大面积的情况**，而其他的剩下也只是可能找到的情况，也就是说，其考虑了指针当前位置下所有可能找到更大面积的情况，所以一定能找到最大面积。



**代码如下：**

```java
class Solution {
    public int maxArea(int[] height) {
        int left = 0, right = height.length - 1, ans = 0, tmp;
        while(left < right){
            tmp = (right - left) * Math.min(height[right], height[left]);
            ans = Math.max(tmp, ans);
            if(height[left] <height[right]){
                left++;
            }else{
                right--;
            }
        }
        return ans;
    }
}
```



