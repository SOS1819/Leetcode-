### 题目描述

给定一个 *m* x *n* 的矩阵，如果一个元素为 0，则将其所在行和列的所有元素都设为 0。请使用**[原地](http://baike.baidu.com/item/原地算法)**算法**。**

**示例 1:**

```
输入: 
[
  [1,1,1],
  [1,0,1],
  [1,1,1]
]
输出: 
[
  [1,0,1],
  [0,0,0],
  [1,0,1]
]
```

**示例 2:**

```
输入: 
[
  [0,1,2,0],
  [3,4,5,2],
  [1,3,1,5]
]
输出: 
[
  [0,0,0,0],
  [0,4,5,0],
  [0,3,1,0]
]
```

**进阶:**

- 一个直接的解决方案是使用  O(*m* *n*) 的额外空间，但这并不是一个好的解决方案。
- 一个简单的改进方案是使用 O(*m* + *n*) 的额外空间，但这仍然不是最好的解决方案。
- 你能想出一个常数空间的解决方案吗？



### 解题方法

如果题目不要求常数空间的解决方案的话，还是很简单的。但是使用常数空间就有点复杂了。

其主要思想就是：**若发现一个点为 `0` 我们将其所在行与所在列的首元素设为 `0` ，表示当前行当前列需要被置 `0` 。** 也就是是说，若 `matrix[i][0] = 0` 表示第 `i` 行需要置 `0` ，若 `matrix[0][i] = 0` 表示第 `j` 列需要置 `0` 。由于这里 `matrix[0][0]` 会产生歧义，因此，我们让 `matrix[0][0]` 代表第 `0` 行是否需要置 `0`  ，对于第 `0` 列我们另外使用一个变量 `col` 标记。

具体算法步骤可以参考下面的官方题解中的步骤，也可以直接看我代码中的注释理解。

> 1. 遍历整个矩阵，如果 `cell[i][j] == 0` 就将第 `i` 行和第 `j` 列的第一个元素标记。
> 2. 第一行和第一列的标记是相同的，都是 `cell[0][0]`，所以需要一个额外的变量告知第一列是否被标记，同时用 `cell[0][0]` 继续表示第一行的标记。
> 3. 然后，从第二行第二列的元素开始遍历，如果第 `r` 行或者第 `c` 列被标记了，那么就将 `cell[r][c]` 设为 0。这里第一行和第一列的作用就相当于方法一中的 `row_set` 和 `column_set` 。
> 4. 然后我们检查是否 `cell[0][0] == 0` ，如果是则赋值第一行的元素为零。
> 5. 然后检查第一列是否被标记，如果是则赋值第一列的元素为零。

#### 代码

```java
class Solution {

    public void setZeroes(int[][] matrix) {
        boolean col = false;    // 标记第一列是否需要置0,false代表不用,true 代表需要
        int m = matrix.length, n = matrix[0].length;
        for(int i = 0; i < m; i++){
            if(matrix[i][0] == 0){    // 若第一列有元素为0,标记第一列需要置0
                col = true;
            }
            for(int j = 1; j < n; j++){
                if(matrix[i][j] == 0){    // 标记当前行当前列需要置0
                    matrix[i][0] = matrix[0][j] = 0;
                }
            }
        }
        // 不能先修改第一行第一列的值,因为其是标志位会对其他的产生影响
        for(int i = 1; i < m; i++){
            for(int j = 1; j < n; j++){
                if(matrix[i][0] == 0 || matrix[0][j] == 0){
                    matrix[i][j] = 0;
                }
            }
        }
        // 若第0行需要置0,则进行置0
        if(matrix[0][0] == 0){
            for(int i = 1; i < n; i++){
                matrix[0][i] = 0;
            }
        }
        // 若第0列需要置0,则进行置0
        if(col){
            for(int i = 0; i < m; i++){
                matrix[i][0] = 0;
            }
        }
    }

}
```

